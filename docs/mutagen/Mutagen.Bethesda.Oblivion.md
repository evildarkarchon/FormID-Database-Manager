# Mutagen.Bethesda.Oblivion

Game-specific record types and mod structure for **The Elder Scrolls IV: Oblivion** plugin files (`.esp`, `.esm`). This project contains mostly **generated** record type definitions created by the Loqui code generator, along with handwritten partial classes that provide custom binary parsing, flags, enums, and special behavior.

**Namespace:** `Mutagen.Bethesda.Oblivion`

---

## Generated Code Pattern

Like all Mutagen game projects, the majority of files are **auto-generated by Loqui**. Each record type follows the same consistent pattern:

### For Each Record Type (e.g., `Npc`)

| Artifact | File | Description |
|----------|------|-------------|
| Mutable class | `Npc_Generated.cs` | `partial class Npc : OblivionMajorRecord` -- the mutable record with read/write properties |
| Getter interface | `INpcGetter` (in generated file) | Read-only interface for the record |
| Setter interface | `INpc` / `INpcInternal` (in generated file) | Read/write interface for the record |
| Binary overlay | `NpcBinaryOverlay` (in generated file) | Lazy read-only overlay that reads directly from binary data |
| Handwritten partial | `Npc.cs` | Custom enums, flags, and any custom parsing logic |
| XML definition | `Npc.xml` | Loqui schema that drives code generation (not compiled) |

### Interface Hierarchy

```
IMajorRecordGetter
  -> IOblivionMajorRecordGetter
    -> INpcGetter              (read-only, used for binary overlays)
    -> INpc / INpcInternal     (read/write, used for mutable records)
```

### Common Aspects

Records implement shared aspect interfaces where applicable:
- `INamedGetter` / `INamed` -- records with a Name field
- `IModeledGetter` -- records with a 3D Model
- `IObjectBoundedGetter` -- records with ObjectBounds (less common in Oblivion than newer games)

### FormLinks

Record references use typed `IFormLink<T>` / `IFormLinkGetter<T>`:
```csharp
IFormLinkNullableGetter<IRaceGetter> Race { get; }
IFormLinkNullableGetter<IClassGetter> Class { get; }
ExtendedList<IFormLinkGetter<ISpellGetter>> Spells { get; }
```

### Key Differences from Newer Games

Oblivion is the **oldest game** Mutagen supports and has several notable differences:
- **No Keywords** -- the keyword system was introduced in Skyrim
- **No Papyrus scripting** -- uses TES4 Script language instead (represented by the `Script` record)
- **No ESL/small master support** -- `CanBeSmallMaster` returns `false`
- **No medium master support** -- `CanBeMediumMaster` returns `false`
- **No overridden forms listing** -- `ListsOverriddenForms` returns `false`
- **Creatures are separate from NPCs** -- uses both `Npc` and `Creature` record types
- **Roads exist** -- worldspaces can contain `Road` records (removed in later games)
- **PathGrids instead of NavMeshes** -- cells use `PathGrid` for AI navigation
- **DialogItems instead of DialogResponses** -- simpler dialogue structure
- **Simpler record structure** -- fewer fields and sub-records per record type

---

## OblivionMod Class

**File:** `Records/OblivionMod.cs` + `Records/OblivionMod_Generated.cs`

The top-level container representing an Oblivion plugin file. Inherits from `AMod`.

### Key Properties

| Property | Type | Description |
|----------|------|-------------|
| `ModHeader` | `OblivionModHeader` | Plugin header (master list, flags, description, stats) |
| `ModKey` | `ModKey` | The plugin's filename identifier |
| `OblivionRelease` | `OblivionRelease` | The specific Oblivion release variant |
| `IsMaster` | `bool` | Whether the plugin is flagged as a master file |
| `IsSmallMaster` | `bool` | Always `false` (unsupported) |
| `CanBeSmallMaster` | `bool` | Always `false` |
| `CanBeMediumMaster` | `bool` | Always `false` |
| `IsMediumMaster` | `bool` | Always `false` |
| `ListsOverriddenForms` | `bool` | Always `false` |
| `OverriddenForms` | `IReadOnlyList<...>?` | Always `null` |

### Builder API

```csharp
// Read a mod (mutable)
var mod = OblivionMod.Create(OblivionRelease.Oblivion)
    .FromPath(modKey, path)
    .Mutable();

// Read a mod (read-only overlay, lazy loading)
using var overlay = OblivionMod.Create(OblivionRelease.Oblivion)
    .FromPath(modKey, path)
    .Readonly();

// Write a mod
mod.BeginWrite
    .ToPath(outputPath)
    .Write();

// Static write builder
OblivionMod.WriteBuilder()
    .ToPath(outputPath)
    .Write(mod);
```

### Record Groups (54 groups)

Each group is an `OblivionGroup<T>`. The full listing:

| Group Property | Record Type | Description |
|---------------|-------------|-------------|
| `GameSettings` | `GameSetting` | Engine configuration variables |
| `Globals` | `Global` | Global script variables |
| `Classes` | `Class` | Character class definitions |
| `Factions` | `Faction` | NPC faction affiliations |
| `Hairs` | `Hair` | Hair style options |
| `Eyes` | `Eye` | Eye type options |
| `Races` | `Race` | Race definitions |
| `Sounds` | `Sound` | Sound definitions |
| `Skills` | `SkillRecord` | Skill definitions with leveling data |
| `MagicEffects` | `MagicEffect` | Base magic effect definitions |
| `Scripts` | `Script` | TES4 script definitions |
| `LandTextures` | `LandTexture` | Terrain texture assignments |
| `Enchantments` | `Enchantment` | Enchantment definitions |
| `Spells` | `Spell` | Spell definitions |
| `Birthsigns` | `Birthsign` | Birthsign definitions |
| `Activators` | `Activator` | Interactive objects |
| `AlchemicalApparatus` | `AlchemicalApparatus` | Alchemy apparatus items |
| `Armors` | `Armor` | Armor definitions |
| `Books` | `Book` | Readable items |
| `Clothes` | `Clothing` | Clothing definitions |
| `Containers` | `Container` | Container objects |
| `Doors` | `Door` | Door objects |
| `Ingredients` | `Ingredient` | Alchemy ingredients |
| `Lights` | `Light` | Light source objects |
| `Miscellaneous` | `Miscellaneous` | Miscellaneous items |
| `Statics` | `Static` | Static mesh objects |
| `Grasses` | `Grass` | Grass/ground cover |
| `Trees` | `Tree` | Tree objects |
| `Flora` | `Flora` | Harvestable plants |
| `Furniture` | `Furniture` | Furniture objects |
| `Weapons` | `Weapon` | Weapon definitions |
| `Ammunitions` | `Ammunition` | Ammunition types |
| `Npcs` | `Npc` | Non-player character definitions |
| `Creatures` | `Creature` | Creature definitions |
| `LeveledCreatures` | `LeveledCreature` | Leveled creature lists |
| `SoulGems` | `SoulGem` | Soul gem items |
| `Keys` | `Key` | Key items |
| `Potions` | `Potion` | Potion items |
| `Subspaces` | `Subspace` | Subspace definitions |
| `SigilStones` | `SigilStone` | Sigil stone items |
| `LeveledItems` | `LeveledItem` | Leveled item lists |
| `Weathers` | `Weather` | Weather type definitions |
| `Climates` | `Climate` | Climate region definitions |
| `Regions` | `Region` | World region definitions |
| `Worldspaces` | `Worldspace` | World space definitions |
| `DialogTopics` | `DialogTopic` | Dialog topic definitions |
| `Quests` | `Quest` | Quest definitions |
| `IdleAnimations` | `IdleAnimation` | Idle animation definitions |
| `AIPackages` | `AIPackage` | AI behavior packages |
| `CombatStyles` | `CombatStyle` | Combat behavior styles |
| `LoadScreens` | `LoadScreen` | Loading screen definitions |
| `LeveledSpells` | `LeveledSpell` | Leveled spell lists |
| `AnimatedObjects` | `AnimatedObject` | Animated object definitions |
| `Waters` | `Water` | Water type definitions |
| `EffectShaders` | `EffectShader` | Visual shader effects |

### Parallel Writing

`OblivionModCommon` provides parallel writing support for:
- `WriteCellsParallel()` -- Cell block hierarchies
- `WriteWorldspacesParallel()` -- Worldspace hierarchies
- `WriteDialogTopicsParallel()` -- Dialog topic groups

---

## Major Record Type Catalog

### Characters and Creatures

| Record Type | Description | Key Fields | Getter Interface |
|-------------|-------------|------------|-----------------|
| `Npc` | Non-player character | Name, Model, Configuration (NpcFlag), Race, Class, Factions, Inventory, Spells, AIData, Animations | `INpcGetter` |
| `Creature` | Creature / monster | Name, Model, Configuration (CreatureFlag, Type), AIData, Inventory, Spells, Animations, SoundData | `ICreatureGetter` |
| `LeveledCreature` | Leveled creature list | Entries, ChanceNone, Flags | `ILeveledCreatureGetter` |
| `Race` | Race definition | Name, Description, Spells, Relations, SkillBoosts, BodyData, FaceData, Hairs, Eyes | `IRaceGetter` |
| `Class` | Character class | Name, Description, PrimaryAttributes, Specialization, ClassData, ClassServices, ClassTraining | `IClassGetter` |
| `Hair` | Hair style | Name, Model, Flags, Texture | `IHairGetter` |
| `Eye` | Eye type | Name, Texture, Flags | `IEyeGetter` |
| `Birthsign` | Birthsign | Name, Description, Icon, Spells | `IBirthsignGetter` |

### Items and Equipment

| Record Type | Description | Key Fields | Getter Interface |
|-------------|-------------|------------|-----------------|
| `Weapon` | Weapon | Name, Model, WeaponType, Speed, Reach, Value, Health, Weight, Damage, Enchantment | `IWeaponGetter` |
| `Armor` | Armor | Name, Model, ArmorData (ArmorValue, Value, Health, Weight), Enchantment, BipedFlags | `IArmorGetter` |
| `Clothing` | Clothing | Name, Model, ClothingData (Value, Weight), Enchantment, BipedFlags | `IClothingGetter` |
| `Book` | Readable item | Name, Model, BookData (Flags, Teaches, Value, Weight), Text, Enchantment | `IBookGetter` |
| `Container` | Container | Name, Model, ContainerData (Flags, Weight), Items | `IContainerGetter` |
| `Ingredient` | Alchemy ingredient | Name, Model, IngredientData (Value, Weight), Effects | `IIngredientGetter` |
| `Potion` | Potion item | Name, Model, PotionData (Value, Flags), Effects | `IPotionGetter` |
| `AlchemicalApparatus` | Alchemy apparatus | Name, Model, AlchemicalApparatusData (Type, Value, Weight, Quality) | `IAlchemicalApparatusGetter` |
| `Key` | Key item | Name, Model, KeyData (Value, Weight) | `IKeyGetter` |
| `SoulGem` | Soul gem | Name, Model, SoulGemData (Value, Weight), ContainedSoul, MaximumCapacity | `ISoulGemGetter` |
| `SigilStone` | Sigil stone | Name, Model, SigilStoneData (Uses, Value, Weight), Effects | `ISigilStoneGetter` |
| `Miscellaneous` | Misc item | Name, Model, MiscellaneousData (Value, Weight) | `IMiscellaneousGetter` |
| `Ammunition` | Ammunition | Name, Model, AmmunitionData (Speed, Flags, Value, Weight, Damage), Enchantment | `IAmmunitionGetter` |
| `LeveledItem` | Leveled item list | Entries, ChanceNone, Flags | `ILeveledItemGetter` |
| `Light` | Light source | Name, Model, LightData (Time, Radius, Color, Flags, FalloffExponent, FOV, Value, Weight) | `ILightGetter` |

### World and Environment

| Record Type | Description | Key Fields | Getter Interface |
|-------------|-------------|------------|-----------------|
| `Worldspace` | World space | Name, Climate, Water, Parent, MapData, SubCells, TopCell, Road | `IWorldspaceGetter` |
| `Cell` | Interior/exterior cell | Flags, Lighting, Water, Owner, Persistent/Temporary/VisibleWhenDistant placed objects, PathGrid, Landscape | `ICellGetter` |
| `Landscape` | Terrain data | VertexHeightMap, Layers | `ILandscapeGetter` |
| `PlacedObject` | Placed reference (REFR) | Base, Position, Rotation, Scale, Owner, LockInformation, TeleportDestination, MapMarker, EnableParent | `IPlacedObjectGetter` |
| `PlacedNpc` | Placed NPC (ACHR) | Base, Position, Rotation, Scale, Owner | `IPlacedNpcGetter` |
| `PlacedCreature` | Placed creature (ACRE) | Base, Position, Rotation, Scale, Owner | `IPlacedCreatureGetter` |
| `Road` | Worldspace road | Points | `IRoadGetter` |
| `PathGrid` | AI path grid | Points, PointToReferenceMappings | `IPathGridGetter` |
| `Region` | World region | Areas, RegionData (objects, weather, map, sounds, grasses) | `IRegionGetter` |
| `Subspace` | Subspace | Dimensions | `ISubspaceGetter` |
| `LandTexture` | Land texture | HavokData, TextureSpecularExponent, Texture | `ILandTextureGetter` |

### Magic and Effects

| Record Type | Description | Key Fields | Getter Interface |
|-------------|-------------|------------|-----------------|
| `Spell` | Spell definition | Name, SpellData (Type, Cost, Level, Flags), Effects | `ISpellGetter` |
| `Enchantment` | Enchantment | Name, EnchantmentData (Type, ChargeAmount, EnchantCost, Flags), Effects | `IEnchantmentGetter` |
| `MagicEffect` | Base magic effect | Name, MagicEffectData (Flags, BaseCost, School, Resistance, etc.), CounterEffects | `IMagicEffectGetter` |
| `LeveledSpell` | Leveled spell list | Entries, ChanceNone, Flags | `ILeveledSpellGetter` |
| `EffectShader` | Effect shader | Flags, SourceTexture, FillTexture, HolesTexture, EffectShaderData (many animation params) | `IEffectShaderGetter` |

### Quests and Dialogue

| Record Type | Description | Key Fields | Getter Interface |
|-------------|-------------|------------|-----------------|
| `Quest` | Quest definition | Name, QuestData (Flags, Priority), Stages, Targets, Script | `IQuestGetter` |
| `DialogTopic` | Dialog topic | Name, Type, Quests, DialogItems | `IDialogTopicGetter` |
| `DialogItem` | Dialog response | DialogItemData (Type, Flags), Quest, Topic, PreviousTopic, Responses, Conditions | `IDialogItemGetter` |

### AI and Behavior

| Record Type | Description | Key Fields | Getter Interface |
|-------------|-------------|------------|-----------------|
| `AIPackage` | AI package | AIPackageData (Type, Flags), Location, Schedule, Target, Conditions | `IAIPackageGetter` |
| `CombatStyle` | Combat style | CombatStyleData (many combat tuning parameters), CombatStyleAdvanced | `ICombatStyleGetter` |
| `Faction` | Faction | Name, Flags, Relations, CrimeValues, Ranks | `IFactionGetter` |
| `IdleAnimation` | Idle animation | Conditions, Filename, AnimationGroupSection, ParentIdle | `IIdleAnimationGetter` |

### Scripting

| Record Type | Description | Key Fields | Getter Interface |
|-------------|-------------|------------|-----------------|
| `Script` | TES4 script | ScriptFields (MetaSummary, CompiledScript, SourceCode), LocalVariables, References | `IScriptGetter` |

### Audio and Visual

| Record Type | Description | Key Fields | Getter Interface |
|-------------|-------------|------------|-----------------|
| `Sound` | Sound definition | SoundData / SoundDataExtended (Filename, Flags, StaticAttenuation, etc.) | `ISoundGetter` |
| `Weather` | Weather type | WeatherData, Clouds, Colors, FogDistances, Sounds | `IWeatherGetter` |
| `Climate` | Climate | Weathers, SunTexture, SunGlareTexture, ClimateData | `IClimateGetter` |
| `Water` | Water type | Name, WaterData (Opacity, Flags, material properties), Texture | `IWaterGetter` |
| `LoadScreen` | Loading screen | Icon, Description, Locations | `ILoadScreenGetter` |

### World Objects

| Record Type | Description | Key Fields | Getter Interface |
|-------------|-------------|------------|-----------------|
| `Activator` | Interactive object | Name, Model, Script | `IActivatorGetter` |
| `Door` | Door object | Name, Model, Script, OpenSound, CloseSound, Flags | `IDoorGetter` |
| `Flora` | Harvestable plant | Name, Model, Script, Ingredient, SeasonalIngredientProduction | `IFloraGetter` |
| `Furniture` | Furniture | Name, Model, Script, MarkerFlags | `IFurnitureGetter` |
| `Static` | Static mesh | Name, Model | `IStaticGetter` |
| `AnimatedObject` | Animated object | Model | `IAnimatedObjectGetter` |
| `Tree` | Tree object | Model, TreeData (LeafCurvature, MinLeafAngle, MaxLeafAngle, etc.) | `ITreeGetter` |
| `Grass` | Ground cover | Model, GrassData (Density, MinSlope, MaxSlope, etc.) | `IGrassGetter` |

### Miscellaneous

| Record Type | Description | Key Fields | Getter Interface |
|-------------|-------------|------------|-----------------|
| `GameSetting` | Game setting | Subtypes: `GameSettingFloat`, `GameSettingInt`, `GameSettingString` | `IGameSettingGetter` |
| `Global` | Global variable | Subtypes: `GlobalFloat`, `GlobalInt`, `GlobalShort`, `GlobalUnknown` | `IGlobalGetter` |
| `SkillRecord` | Skill definition | Description, Icon, ActorValue, SkillData (Action, UseValues), Apprentice/Journeyman/Expert/MasterText | `ISkillRecordGetter` |

---

## Handwritten Partials (Custom Behavior)

### Record Enums and Flags

**`Npc.cs`**: Defines `Npc.NpcFlag` (Female, Essential, Respawn, AutoCalcStats, PCLevelOffset, Summonable, etc.) and `Npc.BuySellServiceFlag` (Weapons, Armor, Books, Spells, Potions, Training, Repair, Recharge, etc.).

**`Creature.cs`**: Defines `Creature.CreatureFlag` (Biped, Essential, Swims, Flies, Walks, PCLevelOffset, NoBloodSpray, NoCombatInWater, etc.) and `Creature.Types` (Creature, Daedra, Undead, Humanoid, Horse, Giant).

**`Weapon.cs`**: Defines `Weapon.WeaponType` (BladeOneHand, BladeTwoHand, BluntOneHand, BluntTwoHand, Staff, Bow) and `Weapon.WeaponFlag` (IgnoresNormalWeaponResistance).

**`Class.cs`**: Defines `ClassFlag` (Playable, Guard) and `ClassService` (Weapons, Armor, Clothing, Books, etc.). Uses separate files for these: `ClassFlag.cs` and `ClassService.cs`.

**`Faction.cs`**: Custom behavior for faction relations and crime values.

**`Quest.cs`**: Custom handling for quest stages and targets.

### Scripting Records

**`Script.cs`** / **`ScriptFields.cs`** / **`ScriptMetaSummary.cs`**: Handle TES4 compiled script data, source code, local variables, and reference parsing. The `ScriptFields` class manages the relationship between compiled bytecode and source text.

### Custom Binary Parsing

Several records have custom serialization:

- **`Cell.cs`** -- Handles CellChildren groups (persistent, temporary, visible-when-distant), PathGrid/Landscape outliers
- **`Worldspace.cs`** / **`WorldspaceSubBlock.cs`** -- Worldspace sub-cell hierarchy, road child management
- **`DialogTopic.cs`** / **`DialogItem.cs`** -- Dialog response tree parsing
- **`CombatStyle.cs`** -- Handles optional CombatStyleAdvanced subrecord
- **`Climate.cs`** -- Moon phase data encoding
- **`Region.cs`** and related (`RegionData.cs`, `RegionGrasses.cs`, `RegionMap.cs`, `RegionObjects.cs`, `RegionSounds.cs`, `RegionWeather.cs`) -- Region area data parsing with type dispatch
- **`LeveledItem.cs`** -- Custom entry parsing
- **`IdleAnimation.cs`** -- Animation group parsing
- **`PlacedObject.cs`** -- MapMarker, TeleportDestination, LockInformation parsing
- **`PathGrid.cs`** / **`PathGridPoint.cs`** -- Point and connection data parsing
- **`Road.cs`** -- Road point parsing

### Data Subrecords

Several records define separate data structures as handwritten partials:

- **`AmmunitionData.cs`** / **`ArmorData.cs`** -- Equipment stat data with custom field layout
- **`SoundData.cs`** / **`SoundDataExtended.cs`** -- Sound configuration data
- **`HavokData.cs`** -- Havok physics parameters
- **`LockInformation.cs`** -- Lock level and key data
- **`MapMarker.cs`** -- Map marker display data
- **`LogEntry.cs`** -- Quest log entry data

### Game Setting / Global Subtypes

**`GameSetting.cs`**: Dispatches to `GameSettingFloat`, `GameSettingInt`, `GameSettingString` based on EditorID prefix (f/i/s).

**`Global.cs`**: Dispatches to `GlobalFloat`, `GlobalInt`, `GlobalShort`, `GlobalUnknown` based on type byte.

---

## Key Enums (Standalone)

Located in `Enums/`:

| Enum | File | Description |
|------|------|-------------|
| `ActorValue` | `ActorValue.cs` | Attributes and skills (Strength, Intelligence, Blade, Alchemy, etc.) |
| `ActorValueExtended` | `ActorValueExtended.cs` | Extended actor values |
| `Attribute` | `Attribute.cs` | Primary attributes (Strength, Intelligence, Willpower, etc.) |
| `BipedFlag` | `BipedFlag.cs` | Biped body part flags (Head, Hair, UpperBody, etc.) |
| `CompareOperator` | `CompareOperator.cs` | Condition comparison operators |
| `DialogType` | `DialogType.cs` | Dialog topic types (Topic, Conversation, Combat, etc.) |
| `EmotionType` | `EmotionType.cs` | NPC emotion types |
| `EquipmentFlag` | `EquipmentFlag.cs` | Equipment flags |
| `FunctionIndex` | `FunctionIndex.cs` | Condition function indices |
| `GroupTypeEnum` | `GroupTypeEnum.cs` | Record group type identifiers |
| `IngredientFlag` | `IngredientFlag.cs` | Ingredient flags |
| `LeveledFlag` | `LeveledFlag.cs` | Leveled list flags |
| `MagicSchool` | `MagicSchool.cs` | Magic school types (Alteration, Conjuration, etc.) |
| `Month` | `Month.cs` | Calendar months |
| `MusicType` | `MusicType.cs` | Music types (Default, Public, Dungeon) |
| `Resistance` | `Resistance.cs` | Resistance types |
| `Skill` | `Skill.cs` | Skill identifiers (Armorer, Athletics, Blade, Block, etc.) -- 21 skills total |
| `SoulLevel` | `SoulLevel.cs` | Soul gem capacity levels |
| `Specialization` | `Specialization.cs` | Class specializations (Combat, Magic, Stealth) |
| `Weekday` | `Weekday.cs` | Days of the week |

---

## Supporting Infrastructure

### OblivionGroup\<T\>

**File:** `Records/OblivionGroup_Generated.cs` + `Records/OblivionGroup.cs`

A typed group container for major records. Provides:
- `RecordCache` -- Dictionary-based access by FormKey
- Enumeration over records
- Add/Remove/Clear operations

### OblivionListGroup\<T\>

**File:** `Records/OblivionListGroup_Generated.cs` + `Records/OblivionListGroup.cs`

List-based group container used for Cell blocks (block/sub-block hierarchy).

### OblivionMajorRecord

**File:** `Records/OblivionMajorRecord_Generated.cs` + `Records/OblivionMajorRecord.cs`

Base class for all Oblivion major records. Extends the core `MajorRecord` with game-specific serialization. Note: Oblivion records do **not** have a `FormVersion` field (this was introduced in later games).

### OblivionModHeader

**File:** `Records/OblivionModHeader_Generated.cs` + `Records/OblivionModHeader.cs`

Plugin file header containing:
- `Flags` (including `HeaderFlag.Master`)
- `Stats` (version, record count)
- `MasterReferences` -- list of master plugin dependencies
- `Description` -- plugin description text

---

## Oblivion-Specific Concepts

### TES4 Scripting

Unlike Skyrim (Papyrus) and Fallout 4, Oblivion uses its own scripting language compiled to bytecode. The `Script` record contains both the compiled bytecode (`CompiledScript`) and the original source code (`SourceCode`). Scripts can reference other records via `ScriptObjectReference` and `ScriptVariableReference`.

### Creatures vs NPCs

Oblivion separates humanoid NPCs (`Npc`) from non-humanoid creatures (`Creature`). Each has its own record type, flag system, and placed reference type (`PlacedNpc` / `PlacedCreature`). Starting with Skyrim, creatures were merged into the NPC record type.

### PathGrids

Oblivion uses `PathGrid` records for AI pathfinding within cells. Each PathGrid contains a list of `PathGridPoint` nodes with connections between them and mappings to placed references. This was replaced by NavigationMesh (NavMesh) in later games.

### Roads

Worldspaces in Oblivion can contain `Road` records that define paths between locations. Roads are defined as sequences of `RoadPoint` values. This feature was removed in Skyrim and later games.

### Three Cell Child Groups

Oblivion cells have three child groups:
1. **Persistent** -- Always-loaded placed objects
2. **Temporary** -- Normally loaded placed objects (with PathGrid/Landscape)
3. **VisibleWhenDistant** -- Objects visible from far away

Later games (Skyrim, Fallout 4) dropped the VisibleWhenDistant group.

### Magic Schools

Oblivion categorizes magic effects by school (Alteration, Conjuration, Destruction, Illusion, Mysticism, Restoration). The `MagicSchool` enum and per-effect school assignment were removed in Skyrim.

### Birthsigns

Oblivion uses `Birthsign` records that grant special abilities/spells. This was replaced by the Standing Stone system in Skyrim.

### Alchemy Apparatus

The `AlchemicalApparatus` record type (Mortar and Pestle, Alembic, Calcinator, Retort) is unique to Oblivion. Later games simplified alchemy to not require separate apparatus items.

### Sigil Stones

`SigilStone` is unique to Oblivion, representing stones obtained from Oblivion gates that can enchant items.
